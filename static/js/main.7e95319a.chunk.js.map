{"version":3,"sources":["components/NewBookForm.js","components/BookInfo.js","components/BookList.js","containers/App.js","actions.js","types.js","serviceWorker.js","reducers.js","store.js","index.js"],"names":["NewBookForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","validateISBN","ISBN","length","array","split","sum","i","parseInt","state","_this2","visibility","background","react_default","a","createElement","className","onSubmit","addBook","htmlFor","type","name","pattern","required","placeholder","id","style","onChange","e","setState","target","value","defaultChecked","disabled","Component","BookInfo","switchEditMode","editMode","title","current","author","pages","rating","console","log","checkValidity","editBook","React","createRef","book","data-isbn","onClick","deleteBook","ref","defaultValue","repeat","BookList","books","map","components_BookInfo","key","App","preventDefault","_e$target","trim","newBook","addNewBook","rate","querySelector","editedBook","dataset","isbn","newISBN","removeBook","fetchBooks","components_NewBookForm","components_BookList","connect","booksReducer","isPending","dispatch","fetch","then","response","json","payload","catch","error","method","headers","Content-Type","body","JSON","stringify","Boolean","window","location","hostname","match","initialState","logger","createLogger","middleware","thunkMiddleware","rootReducer","combineReducers","arguments","undefined","action","objectSpread","store","createStore","compose","applyMiddleware","apply","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","containers_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7e95319a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../css/NewBookForm.css\";\r\n\r\nclass NewBookForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ISBN: \"\"\r\n    };\r\n  }\r\n\r\n  validateISBN = ISBN => {\r\n    if (ISBN.length === 13) {\r\n      const array = ISBN.split(\"\");\r\n      let sum = 0;\r\n      for (let i = 1; i <= array.length-1; i++) {\r\n        if (i % 2 === 1) {\r\n          sum += parseInt(array[i - 1]);\r\n        } else {\r\n          sum += 3 * parseInt(array[i - 1]);\r\n        }\r\n      }\r\n       if (sum % 10 === 0) {\r\n        return parseInt(array[12]) === 0;\r\n      }\r\n      return 10 - (sum % 10) === parseInt(array[12]);\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let visibility = this.validateISBN(this.state.ISBN) ? \"hidden\" : \"visible\";\r\n    let background = this.validateISBN(this.state.ISBN)\r\n      ? \"transparent\"\r\n      : \"rgba(255, 0, 0, 0.143)\";\r\n    return (\r\n      <div className=\"new-book-container\">\r\n        <h3>Add a new book</h3>\r\n        <form onSubmit={this.props.addBook}>\r\n          <label htmlFor=\"title\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            pattern=\"^[A-Z]{1}[A-Za-z\\s0-9]{2,45}\"\r\n            required\r\n            placeholder=\" \"\r\n          />\r\n          <label htmlFor=\"author\">Author</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"author\"\r\n            pattern=\"[A-Z]{1}[a-z.]{1,15}\\s{1}[A-Z]{1}[a-z]{2,20}\"\r\n            required\r\n            placeholder=\" \"\r\n          />\r\n          <label htmlFor=\"ISBN\">ISBN</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"ISBN\"\r\n            id=\"ISBN\"\r\n            pattern=\"[0-9]{13}\"\r\n            required\r\n            placeholder=\" \"\r\n            style={{ background }}\r\n            onChange={e => this.setState({ ISBN: e.target.value })}\r\n          />\r\n          <p className=\"error-sign\" style={{ visibility }}>\r\n            !\r\n          </p>\r\n          <label htmlFor=\"pages\">Number of pages</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"pages\"\r\n            pattern=\"[0-9]{2,4}\"\r\n            required\r\n            placeholder=\" \"\r\n          />\r\n          <label htmlFor=\"rating\">Your rating</label>\r\n          <div className=\"rating-stars\">\r\n            <input type=\"radio\" name=\"rating\" value=\"1\" id=\"rate-1\" />\r\n            <label htmlFor=\"rate-1\">★</label>\r\n            <input type=\"radio\" name=\"rating\" value=\"2\" id=\"rate-2\" />\r\n            <label htmlFor=\"rate-2\">★</label>\r\n            <input type=\"radio\" name=\"rating\" value=\"3\" id=\"rate-3\" />\r\n            <label htmlFor=\"rate-3\">★</label>\r\n            <input type=\"radio\" name=\"rating\" value=\"4\" id=\"rate-4\" />\r\n            <label htmlFor=\"rate-4\">★</label>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"rating\"\r\n              value=\"5\"\r\n              id=\"rate-5\"\r\n              defaultChecked\r\n            />\r\n            <label htmlFor=\"rate-5\">★</label>\r\n          </div>\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Add\"\r\n            disabled={!this.validateISBN(this.state.ISBN)}\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nNewBookForm.propTypes = {};\r\n\r\nexport default NewBookForm;\r\n","import React, { Component } from \"react\";\r\nimport \"../css/BookInfo.css\";\r\n\r\nclass BookInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.title = React.createRef();\r\n    this.author = React.createRef();\r\n    this.ISBN = React.createRef();\r\n    this.pages = React.createRef();\r\n    this.rating = React.createRef();\r\n\r\n    this.state = {\r\n      editMode: false,\r\n      ISBN: this.props.book.ISBN\r\n    };\r\n  }\r\n\r\n  validateISBN = ISBN => {\r\n    if (ISBN.length === 13) {\r\n      const array = ISBN.split(\"\");\r\n      let sum = 0;\r\n      for (let i = 1; i <= array.length; i++) {\r\n        if (i % 2 === 1) {\r\n          sum += parseInt(array[i - 1]);\r\n        } else {\r\n          sum += 3 * parseInt(array[i - 1]);\r\n        }\r\n      }\r\n      return sum % 10 === 0 ? true : false;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  switchEditMode = e => {\r\n    if (this.state.editMode) {\r\n      const title = this.title.current;\r\n      const author = this.author.current;\r\n      const ISBN = this.ISBN.current;\r\n      const pages = this.pages.current;\r\n      const rating = this.rating.current;\r\n      console.log(rating);\r\n\r\n      if (\r\n        title.checkValidity() &&\r\n        author.checkValidity() &&\r\n        this.validateISBN(this.state.ISBN) &&\r\n        pages.checkValidity()\r\n      ) {\r\n        this.setState({ editMode: false });\r\n        this.props.editBook(\r\n          e,\r\n          title,\r\n          author,\r\n          ISBN,\r\n          pages,\r\n          rating\r\n        );\r\n      }\r\n    } else {\r\n      this.setState({ editMode: true });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const book = this.props.book;\r\n   /* let background = this.validateISBN(this.props.book.ISBN)\r\n      ? \"transparent\"\r\n      : \"rgba(255, 0, 0, 0.143)\";*/\r\n    return (\r\n      <div className=\"book-card\">\r\n        <button\r\n          className=\"edit\"\r\n          data-isbn={book.ISBN}\r\n          onClick={this.switchEditMode}\r\n        />\r\n        <button\r\n          className=\"delete\"\r\n          data-isbn={book.ISBN}\r\n          onClick={this.props.deleteBook}\r\n        >\r\n          ✖\r\n        </button>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td className=\"left-column\">Title:</td>\r\n              <td className=\"right-column\">\r\n                {this.state.editMode ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    id=\"title\"\r\n                    pattern=\"^[A-Z]{1}[A-Za-z\\s0-9]{2,45}\"\r\n                    required\r\n                    ref={this.title}\r\n                    defaultValue={book.title}\r\n                  />\r\n                ) : (\r\n                  book.title\r\n                )}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td className=\"left-column\">Author:</td>\r\n              <td className=\"right-column\">\r\n                {\" \"}\r\n                {this.state.editMode ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"author\"\r\n                    id=\"author\"\r\n                    pattern=\"[A-Z]{1}[a-z.]{1,15}\\s{1}[A-Z]{1}[a-z]{2,20}\"\r\n                    required\r\n                    ref={this.author}\r\n                    defaultValue={book.author}\r\n                  />\r\n                ) : (\r\n                  book.author\r\n                )}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td className=\"left-column\">ISBN:</td>\r\n              <td className=\"right-column\">\r\n                {\" \"}\r\n                {this.state.editMode ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"ISBN\"\r\n                    id=\"ISBN\"\r\n                    pattern=\"[0-9]{13}\"\r\n                    required\r\n                    //style={{ background }}\r\n                    ref={this.ISBN}\r\n                    onChange={e => this.setState({ ISBN: e.target.value })}\r\n                    defaultValue={book.ISBN}\r\n                  />\r\n                ) : (\r\n                  book.ISBN\r\n                )}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td className=\"left-column\">No. of pages:</td>\r\n              <td className=\"right-column\">\r\n                {\" \"}\r\n                {this.state.editMode ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"pages\"\r\n                    id=\"pages\"\r\n                    pattern=\"[0-9]{2,4}\"\r\n                    required\r\n                    ref={this.pages}\r\n                    defaultValue={book.pages}\r\n                  />\r\n                ) : (\r\n                  book.pages\r\n                )}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td className=\"left-column\"> Your rating:</td>\r\n              <td className=\"right-column\">\r\n                {\" \"}\r\n                {this.state.editMode ? (\r\n                  <div className=\"rating-edition\" ref={this.rating}>\r\n                    <input type=\"radio\" name=\"rating\" value=\"1\" id=\"rated-1\" />\r\n                    <label htmlFor=\"rated-1\">★</label>\r\n                    <input type=\"radio\" name=\"rating\" value=\"2\" id=\"rated-2\" />\r\n                    <label htmlFor=\"rated-2\">★</label>\r\n                    <input type=\"radio\" name=\"rating\" value=\"3\" id=\"rated-3\" />\r\n                    <label htmlFor=\"rated-3\">★</label>\r\n                    <input type=\"radio\" name=\"rating\" value=\"4\" id=\"rated-4\" />\r\n                    <label htmlFor=\"rated-4\">★</label>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"rating\"\r\n                      value=\"5\"\r\n                      id=\"rated-5\"\r\n                      defaultChecked\r\n                    />\r\n                    <label htmlFor=\"rated-5\">★</label>\r\n                  </div>\r\n                ) : (\r\n                  \"★ \".repeat(parseInt(book.rating))\r\n                )}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBookInfo.propTypes = {};\r\n\r\nexport default BookInfo;\r\n","import React, { Component } from \"react\";\r\nimport \"../css/BookList.css\";\r\nimport BookInfo from \"./BookInfo\";\r\n\r\nclass BookList extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"book-list-container\">\r\n        <h3>Books you've read:</h3>\r\n        <div>\r\n          {this.props.books.map((book, i) => (\r\n            <BookInfo\r\n              key={i}\r\n              book={book}\r\n              deleteBook={this.props.deleteBook}\r\n              editBook={this.props.editBook}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBookList.propTypes = {};\r\n\r\nexport default BookList;\r\n","import React, { Component } from \"react\";\nimport \"../css/App.css\";\nimport NewBookForm from \"../components/NewBookForm\";\nimport BookList from \"../components/BookList\";\nimport { connect } from \"react-redux\";\nimport { getBooklist, addNewBook, deleteBook, editBook } from \"../actions\";\nimport PropTypes from \"prop-types\";\n\nconst mapDispatchToProps = dispatch => ({\n  fetchBooks: () => dispatch(getBooklist()),\n  addNewBook: newBook => dispatch(addNewBook(newBook)),\n  removeBook: ISBN => dispatch(deleteBook(ISBN)),\n  editBook: editedBook => dispatch(editBook(editedBook))\n});\n\nconst mapStateToProps = state => {\n  console.log(state.booksReducer);\n  return {\n    books: state.booksReducer.books,\n    isPending: state.booksReducer.isPending\n  };\n};\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.fetchBooks();\n  }\n\n  addBook = e => {\n    e.preventDefault();\n\n    const { title, author, ISBN, pages, rating } = e.target;\n    title.value = title.value.trim();\n\n    const newBook = {\n      title: title.value,\n      author: author.value,\n      ISBN: ISBN.value,\n      pages: pages.value,\n      rating: rating.value\n    };\n    console.log(newBook);\n    this.props.addNewBook(newBook);\n\n    title.value = \"\";\n    author.value = \"\";\n    ISBN.value = \"\";\n    pages.value = \"\";\n    rating.value = \"5\";\n  };\n\n  editBook = (e, title, author, ISBN, pages, rating) => {\n    console.log(rating);\n    const rate = rating.querySelector('input[type=\"radio\"]:checked').value;\n\n    if (\n      title.checkValidity() &&\n      author.checkValidity() &&\n      ISBN.checkValidity() &&\n      pages.checkValidity()\n    ) {\n      console.log(\"Editing\");\n      const editedBook = {\n        ISBN: e.target.dataset.isbn,\n        title: title.value,\n        author: author.value,\n        newISBN: ISBN.value,\n        pages: pages.value,\n        rating: rate\n      }\n\n      this.props.editBook(editedBook)\n     \n    }\n  };\n\n  deleteBook = e => {\n    console.log(\"delete\");\n    const ISBN = e.target.dataset.isbn;\n    this.props.removeBook(ISBN);\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1> Welcome to Book Tracker</h1>\n        {this.props.books && (\n          <h3>\n            {\" \"}\n            You've read {this.props.books.length}{\" \"}\n            {this.props.books.length === 1 ? \"book\" : \"books\"}\n          </h3>\n        )}\n        {this.props.books && (\n          <div className=\"book-container\">\n            <NewBookForm addBook={this.addBook} />\n            <BookList\n              editBook={this.editBook}\n              deleteBook={this.deleteBook}\n              books={this.props.books}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  getBooks: PropTypes.func,\n  books: PropTypes.array,\n  addNewBook: PropTypes.func\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","import {\r\n  REQUEST_BOOKLIST,\r\n  REQUEST_BOOKLIST_SUCCESS,\r\n  REQUEST_BOOKLIST_FAIL,\r\n  ADD_BOOK,\r\n  EDIT_BOOK,\r\n  DELETE_BOOK\r\n} from \"./types\";\r\n\r\nexport const getBooklist = () => dispatch => {\r\n  dispatch({ type: REQUEST_BOOKLIST });\r\n  fetch(\"https://book-tracker-server.herokuapp.com/booklist\")\r\n    .then(response => response.json())\r\n    .then(books =>\r\n      dispatch({\r\n        type: REQUEST_BOOKLIST_SUCCESS,\r\n        payload: books\r\n      })\r\n    )\r\n    .catch(error => dispatch({ type: REQUEST_BOOKLIST_FAIL, payload: error }));\r\n};\r\n\r\nexport const addNewBook = newBook => dispatch => {\r\n  console.log(newBook);\r\n  fetch(\"https://book-tracker-server.herokuapp.com/add-book\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(newBook)\r\n  }).then(response =>\r\n    response.json().then(books =>\r\n      dispatch({\r\n        type: ADD_BOOK,\r\n        payload: books\r\n      })\r\n    )\r\n  );\r\n};\r\n\r\n\r\nexport const deleteBook = ISBN => dispatch => {\r\n    fetch(\"https://book-tracker-server.herokuapp.com/delete-book\", {\r\n      method: \"DELETE\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        ISBN\r\n      })\r\n    }).then(response =>\r\n      response.json().then(books => dispatch({\r\n          type: DELETE_BOOK,\r\n          payload: books\r\n      }))\r\n    );\r\n  };\r\n//9783161484100\r\n//9780306406157\r\n  export const editBook = editedBook => dispatch => {\r\n      console.log(editedBook);\r\n    fetch(\"https://book-tracker-server.herokuapp.com/edit-book\", {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(\r\n            editedBook\r\n        )\r\n      }).then(response =>\r\n        response.json().then(books => dispatch({\r\n            type: EDIT_BOOK,\r\n            payload: books\r\n        }))\r\n      );\r\n  };","export const REQUEST_BOOKLIST = \"REQUEST_BOOKLIST\";\r\nexport const REQUEST_BOOKLIST_SUCCESS = \"REQUEST_BOOKLIST_SUCCESS\";\r\nexport const REQUEST_BOOKLIST_FAIL = \"REQUEST_BOOKLIST_FAIL\";\r\nexport const ADD_BOOK = \"ADD_BOOK\";\r\nexport const EDIT_BOOK = \"EDIT_BOOK\";\r\nexport const DELETE_BOOK = \"DELETE_BOOK\";\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\r\n  books: [], \r\n\r\n};\r\n\r\nexport const booksReducer = (state = initialState, action = {}) => {\r\n  return { ...state, books: action.payload };\r\n  \r\n};\r\n","import { createStore, applyMiddleware, combineReducers, compose } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { createLogger } from 'redux-logger';\r\nimport { booksReducer } from './reducers'\r\n\r\nconst logger = createLogger();\r\nconst middleware = [thunkMiddleware, logger];\r\nconst rootReducer = combineReducers({booksReducer})\r\n\r\n\r\n\r\nconst store = createStore(rootReducer, compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  ))\r\n\r\n  export default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './containers/App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './store.js'\n\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\n\nserviceWorker.unregister();\n"],"sourceRoot":""}